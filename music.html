[
  {
    "id": "mv001",
    "type": "movie",
    "title": "Night Streets",
    "artist": "John Doe",
    "role": "Director",
    "price": 5.99,
    "currency": "USD",
    "priceId": "price_live_replace_me_movie",
    "image": "assets/movies/night-streets.jpg",
    "preview": "assets/previews/night-streets.mp4",
    "description": "Gritty indie short film."
  },
  {
    "id": "mu001",
    "type": "music",
    "title": "City Lights (Beat)",
    "artist": "Jane Producer",
    "role": "Producer",
    "price": 0.99,
    "currency": "USD",
    "priceId": "price_live_replace_me_music",
    "image": "assets/music/city-lights.jpg",
    "preview": "assets/previews/city-lights.mp3",
    "description": "90s boom-bap instrumental."
  }
]
<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Movies • My Box Studios</title>
<style>
:root{--black:#000;--gold:#D4AF37;--white:#fff}
html,body{margin:0;background:var(--black);color:var(--white);font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
.wrap{max-width:1080px;margin:0 auto;padding:24px}
header{text-align:center;padding:24px 0;border-bottom:1px solid rgba(212,175,55,.35)}
.brand{font-size:2rem;font-weight:800;color:var(--gold)} .sub{opacity:.9;margin-top:8px}
nav{display:flex;gap:12px;justify-content:center;margin:18px 0 6px}
nav a{padding:10px 14px;border:1px solid rgba(212,175,55,.5);border-radius:999px;text-decoration:none;color:var(--white)}
nav a:hover{border-color:var(--gold)}
.grid{display:grid;gap:16px;margin-top:20px;grid-template-columns:1fr}
@media(min-width:720px){.grid{grid-template-columns:1fr 1fr}}
.card{border:1px solid rgba(212,175,55,.35);border-radius:18px;padding:18px;background:#080808}
.card h3{margin:0 0 6px;color:var(--gold)}
.meta{opacity:.9;font-size:.95rem;margin-bottom:8px}
.img{width:100%;aspect-ratio:16/9;object-fit:cover;border-radius:12px;border:1px solid rgba(212,175,55,.25);background:#111}
.btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.cta{padding:10px 14px;border-radius:999px;background:var(--gold);color:#111;text-decoration:none;font-weight:700;border:none;cursor:pointer}
.outline{padding:10px 14px;border-radius:999px;background:transparent;color:var(--white);border:1px solid rgba(212,175,55,.5);cursor:pointer}
footer{margin:40px 0 10px;text-align:center;opacity:.75;font-size:.9rem}
</style></head><body>
<div class="wrap">
  <header>
    <div class="brand">MY BOX STUDIOS</div>
    <div class="sub">Movies</div>
    <nav><a href="index.html">Home</a><a href="movies.html">Movies</a><a href="music.html">Music</a><a href="signup.html">Sign Up</a></nav>
  </header>

  <main id="grid" class="grid"></main>
  <footer>© <span id="y"></span> My Box Studios</footer>
</div>

<script>
document.getElementById('y').textContent=new Date().getFullYear();

function card(item){
  const el = document.createElement('section');
  el.className = 'card';
  el.innerHTML = `
    <img class="img" src="${item.image || ''}" alt="">
    <h3>${item.title}</h3>
    <div class="meta">${item.artist} • ${item.role}</div>
    <div>${item.description || ''}</div>
    <div class="btns">
      <button class="outline" onclick="preview('${item.preview||''}')">Preview</button>
      <button class="cta" onclick="buy('${item.priceId}')">Buy • $${item.price.toFixed(2)}</button>
    </div>
    <div id="pv-${item.id}" style="margin-top:10px"></div>
  `;
  return el;
}

function preview(src){
  if(!src) return alert('No preview available.');
  const isVideo = src.endsWith('.mp4') || src.endsWith('.webm');
  const wrapId = 'pv-' + Math.random().toString(36).slice(2,7);
  const wrap = document.createElement('div'); wrap.id = wrapId;
  wrap.innerHTML = isVideo
    ? `<video controls class="img" src="${src}"></video>`
    : `<audio controls style="width:100%"><source src="${src}"></audio>`;
  // Put player right under the last clicked card
  event.target.closest('.card').querySelector('[id^="pv-"]').replaceWith(wrap);
}

async function buy(priceId){
  try{
    const r = await fetch('/.netlify/functions/create-checkout', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ priceId })
    });
    const data = await r.json();
    if(data.url){ window.location = data.url; } else { alert('Checkout error.'); }
  }catch(e){ alert('Network error.'); }
}

(async function load(){
  const res = await fetch('data/products.json');
  const all = await res.json();
  const movies = all.filter(x => x.type === 'movie');
  const grid = document.getElementById('grid');
  movies.forEach(x => grid.appendChild(card(x)));
})();
</script>
</<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Music • My Box Studios</title>
<style>
:root{--black:#000;--gold:#D4AF37;--white:#fff}
html,body{margin:0;background:var(--black);color:var(--white);font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
.wrap{max-width:1080px;margin:0 auto;padding:24px}
header{text-align:center;padding:24px 0;border-bottom:1px solid rgba(212,175,55,.35)}
.brand{font-size:2rem;font-weight:800;color:var(--gold)} .sub{opacity:.9;margin-top:8px}
nav{display:flex;gap:12px;justify-content:center;margin:18px 0 6px}
nav a{padding:10px 14px;border:1px solid rgba(212,175,55,.5);border-radius:999px;text-decoration:none;color:var(--white)}
nav a:hover{border-color:var(--gold)}
.grid{display:grid;gap:16px;margin-top:20px;grid-template-columns:1fr}
@media(min-width:720px){.grid{grid-template-columns:1fr 1fr}}
.card{border:1px solid rgba(212,175,55,.35);border-radius:18px;padding:18px;background:#080808}
.card h3{margin:0 0 6px;color:var(--gold)}
.meta{opacity:.9;font-size:.95rem;margin-bottom:8px}
.img{width:100%;aspect-ratio:16/9;object-fit:cover;border-radius:12px;border:1px solid rgba(212,175,55,.25);background:#111}
.btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.cta{padding:10px 14px;border-radius:999px;background:var(--gold);color:#111;text-decoration:none;font-weight:700;border:none;cursor:pointer}
.outline{padding:10px 14px;border-radius:999px;background:transparent;color:var(--white);border:1px solid rgba(212,175,55,.5);cursor:pointer}
footer{margin:40px 0 10px;text-align:center;opacity:.75;font-size:.9rem}
</style></head><body>
<div class="wrap">
  <header>
    <div class="brand">MY BOX STUDIOS</div>
    <div class="sub">Music</div>
    <nav><a href="index.html">Home</a><a href="movies.html">Movies</a><a href="music.html">Music</a><a href="signup.html">Sign Up</a></nav>
  </header>

  <main id="grid" class="grid"></main>
  <footer>© <span id="y"></span> My Box Studios</footer>
</div>

<script>
document.getElementById('y').textContent=new Date().getFullYear();

function card(item){
  const el = document.createElement('section');
  el.className = 'card';
  el.innerHTML = `
    <img class="img" src="${item.image || ''}" alt="">
    <h3>${item.title}</h3>
    <div class="meta">${item.artist} • ${item.role}</div>
    <div>${item.description || ''}</div>
    <div class="btns">
      <button class="outline" onclick="preview('${item.preview||''}')">Preview</button>
      <button class="cta" onclick="buy('${item.priceId}')">Buy • $${(item.price||0).toFixed(2)}</button>
    </div>
    <div id="pv-${item.id}" style="margin-top:10px"></div>
  `;
  return el;
}

function preview(src){
  if(!src) return alert('No preview available.');
  const isVideo = src.endsWith('.mp4') || src.endsWith('.webm');
  const wrapId = 'pv-' + Math.random().toString(36).slice(2,7);
  const wrap = document.createElement('div'); wrap.id = wrapId;
  wrap.innerHTML = isVideo
    ? `<video controls class="img" src="${src}"></video>`
    : `<audio controls style="width:100%"><source src="${src}"></audio>`;
  event.target.closest('.card').querySelector('[id^="pv-"]').replaceWith(wrap);
}

async function buy(priceId){
  try{
    const r = await fetch('/.netlify/functions/create-checkout', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ priceId })
    });
    const data = await r.json();
    if(data.url){ window.location = data.url; } else { alert('Checkout error.'); }
  }catch(e){ alert('Network error.'); }
}

(async function load(){
  const res = await fetch('data/products.json');
  const all = await res.json();
  const music = all.filter(x => x.type === 'music');
  const grid = document.getElementById('grid');
  music.forEach(x => grid.appendChild(card(x)));
})();
</script>
</body></html>
body></html>
